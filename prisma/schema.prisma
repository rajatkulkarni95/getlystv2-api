// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL_DEV")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id String @id @default(cuid())
  email String @unique
  username String @unique
  url String
  playlists Playlist[]
}

model Playlist {
  id String @id @default(cuid())
  name String
  url String
  createdBy User @relation(fields: [userId], references: [id])
  userId String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  details PlaylistSettings?
}

model PlaylistSettings {
  id String @id @default(cuid())
  playlist Playlist? @relation(fields: [playlistId], references: [id])
  playlistId String
  limit Int
  genres String[]
  artists String[]
  minAcoustic Int?
  maxAcoustic Int?
  minDanceability Int?
  maxDanceability Int?
  minDuration Int?
  maxDuration Int?
  minEnergy Int?
  maxEnergy Int?
  minInstrumentalness Int?
  maxInstrumentalness Int?
  minKey Int?
  maxKey Int?
  minLiveness Int?
  maxLiveness Int?
  minLoudness Int?
  maxLoudness Int?
  minPopularity Int?
  maxPopularity Int?
  minTempo Int?
  maxTempo Int?
  minValence Int?
  maxValence Int?
}
